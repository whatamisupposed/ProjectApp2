<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golf Score Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        .container {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }
        .score-info {
            width: 40%;
            margin-right: 20px;
        }
        .score-table {
            width: 60%;
        }
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #dddddd;
            text-align: center;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        .total-row {
            font-weight: bold;
        }
        canvas {
            max-width: 100%;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Golf Score Tracker</h1>

    <div class="container">
        <div class="score-info">
            <h2>Score Information</h2>
            <label for="tees">Select Tees:</label>
            <select id="tees" onchange="updateTees(this.value)">
                <option value="mens">Men's Tees</option>
                <option value="ladies">Ladies' Tees</option>
                <option value="seniors">Seniors' Tees</option>
            </select>
            <table id="score-info-table">
                <!-- Score information will be dynamically added here -->
            </table>
        </div>

        <div class="score-table">
            <h2>Score Tracker</h2>
            <table id="scorecard">
                <!-- Scorecard table will be dynamically added here -->
            </table>
        </div>
    </div>

    <canvas id="score-chart"></canvas>

    <script>
        let courseData = {
            tees: {
                mens: [
                    { yardage: 350, par: 4 },
                    { yardage: 410, par: 4 },
                    { yardage: 180, par: 3 }
                    // Add more holes as needed
                ],
                ladies: [
                    { yardage: 300, par: 4 },
                    { yardage: 370, par: 4 },
                    { yardage: 150, par: 3 }
                    // Add more holes as needed
                ],
                seniors: [
                    { yardage: 320, par: 4 },
                    { yardage: 380, par: 4 },
                    { yardage: 160, par: 3 }
                    // Add more holes as needed
                ]
            },
            players: [
                { name: 'Player 1', scores: [] },
                { name: 'Player 2', scores: [] }
                // Add more players as needed
            ],
            selectedTees: 'mens'
        };

        function updateTees(selected) {
            courseData.selectedTees = selected;
            renderScoreInfo();
        }

        function renderScoreInfo() {
            const scoreInfoTable = document.getElementById('score-info-table');
            scoreInfoTable.innerHTML = ''; // Clear existing rows
            // Add rows for hole yardage and par
            courseData.tees[courseData.selectedTees].forEach((hole, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>Hole ${index + 1}</td>
                    <td>Yardage: ${hole.yardage}</td>
                    <td>Par: ${hole.par}</td>
                `;
                scoreInfoTable.appendChild(row);
            });
        }

        function renderScorecard() {
            const scorecard = document.getElementById('scorecard');
            scorecard.innerHTML = ''; // Clear existing rows
            // Add header row for players
            const headerRow = document.createElement('tr');
            headerRow.innerHTML = `<th></th>`;
            courseData.players.forEach(player => {
                headerRow.innerHTML += `<th>${player.name}</th>`;
            });
            scorecard.appendChild(headerRow);
            // Add rows for each hole with player scores
            courseData.tees[courseData.selectedTees].forEach((hole, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `<td>Hole ${index + 1}</td>`;
                courseData.players.forEach(player => {
                    const score = player.scores[index] || '';
                    row.innerHTML += `<td contenteditable="true" oninput="updatePlayerScore(${index}, '${player.name}', this)">${score}</td>`;
                });
                scorecard.appendChild(row);
            });
            // Add total row
            const totalRow = document.createElement('tr');
            totalRow.className = 'total-row';
            totalRow.innerHTML = '<td>Total</td>';
            courseData.players.forEach(player => {
                const totalScore = player.scores.reduce((acc, score) => acc + parseInt(score) || 0, 0);
                totalRow.innerHTML += `<td>${totalScore}</td>`;
            });
            scorecard.appendChild(totalRow);
        }

        function updatePlayerScore(holeIndex, playerName, cell) {
            const score = parseInt(cell.textContent) || '';
            const player = courseData.players.find(player => player.name === playerName);
            if (player) {
                player.scores[holeIndex] = score;
                updateTotalRow();
                updateChart();
            }
        }

        function updateTotalRow() {
            const totalRow = document.querySelector('#scorecard .total-row');
            courseData.players.forEach((player, index) => {
                const totalScore = player.scores.reduce((acc, score) => acc + parseInt(score) || 0, 0);
                totalRow.children[index + 1].textContent = totalScore;
            });
        }

        function updateChart() {
            const labels = courseData.tees[courseData.selectedTees].map((hole, index) => `Hole ${index + 1}`);
            const datasets = [];
            courseData.players.forEach(player => {
                const data = player.scores.map(score => parseInt(score) || null);
                datasets.push({ label: player.name, data: data });
            });
            const ctx = document.getElementById('score-chart').getContext('2d');
            const myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        renderScoreInfo();
        renderScorecard();
        updateChart();
    </script>
</body>
</html>
